<?xml version="1.0" encoding="utf-8"?>

<configuration>

	<configSections>
    	<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    	<section name="CAMobileAppSettings" type="CAMobile.Infrastructure.Configuration.CAMobileSettingsSection, CAMobile.Infrastructure.Configuration"/>
  		<section name="rebus" type="Rebus.Configuration.RebusConfigurationSection, Rebus"/>
  	</configSections>

  	<configProtectedData>
		<providers>
			<add keyContainerName="CAOKey" useMachineContainer="true" description="Uses RsaCryptoServiceProvider to encrypt and decrypt" name="CAOProvider" type="System.Configuration.RsaProtectedConfigurationProvider,System.Configuration, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
		</providers>
	</configProtectedData>

  	<system.web>
    		<compilation debug="false" targetFramework="4.5.1" />
    		<httpRuntime targetFramework="4.5.1" />
  	</system.web>

  	<!-- Custom AppSettings stored in an external file -->
	<CAMobileAppSettings configSource="ca-appsettings.config" />

	<connectionStrings configSource="connstrings.config" />

	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
	      		<dependentAssembly>
	        		<assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="Microsoft.Owin.Security.OAuth" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="Microsoft.Owin.Security.Cookies" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="Newtonsoft.Json" culture="neutral" publicKeyToken="30ad4fe6b2a6aeed" />
	        		<bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-5.2.2.0" newVersion="5.2.2.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="System.Web.Optimization" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="1.1.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
	        		<bindingRedirect oldVersion="1.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" culture="neutral" />
	        		<bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
	      		</dependentAssembly>
	      		<dependentAssembly>
	        		<assemblyIdentity name="System.IdentityModel.Tokens.Jwt" publicKeyToken="31bf3856ad364e35" culture="neutral" />
	        		<bindingRedirect oldVersion="0.0.0.0-4.0.20622.1351" newVersion="4.0.20622.1351" />
	      		</dependentAssembly>
	      		<dependentAssembly>        
	      			<assemblyIdentity name="Microsoft.Practices.Unity" publicKeyToken="31bf3856ad364e35" culture="neutral" />
	      			<bindingRedirect oldVersion="0.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
	      		</dependentAssembly>
	    	</assemblyBinding>
  	</runtime>

	<system.webServer>
    		<handlers>
			<remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      			<remove name="OPTIONSVerbHandler" />
      			<remove name="TRACEVerbHandler" />
      			<add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    		</handlers>
  	</system.webServer>

  </configuration>
